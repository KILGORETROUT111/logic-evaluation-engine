

LAM Lambda Tests
python main.py 
["APP", ["LAM", "x", ["EX", "x", "JAM"]], 42]


["APP", ["LAM", "x", ["EX", "x", "JAM"]], ["APP", ["LAM", "z", "z"], "y"]]


elif name == "APP":
    lam = go(args[0])  # should evaluate to a LAM functor
    raw_arg = args[1]  # ✅ use raw AST node, not evaluated

    if isinstance(lam, Functor) and lam.name == "LAM" and len(lam.args) == 2:
        param = lam.args[0]
        body = lam.args[1]
        if isinstance(param, Var):
            substituted = substitute(body, param.name, raw_arg)
            return go(substituted)  # ✅ evaluate AFTER substitution
        else:
            raise ValueError("Lambda parameter is not a Var")
    else:
        raise ValueError("APP expects first argument to be a LAM")
